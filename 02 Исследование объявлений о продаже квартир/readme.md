# Исследование объявлений о продаже квартир

В вашем распоряжении данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Ваша задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность.

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.

### Цели проекта
Научиться определять рыночную стоимость объектов недвижимости.

### Задачи проекта:
1. Провести предобработку данных.
2. Посчитать и добавить новые столбцы в данные.
3. Ответить на вопросы
    - Как быстро продавались квартиры?
    - Какие факторы больше всего влияют на общую (полную) стоимость объекта?
    - Какая средняя цена одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений?
    - Какая средня цена каждого километра в Санкт-Петербурге?
4. Сделать общие выводы.

### Данные
Архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет

### Описание данных
- airports_nearest — расстояние до ближайшего аэропорта в метрах (м)  
- balcony — число балконов  
- ceiling_height — высота потолков (м)  
- cityCenters_nearest — расстояние до центра города (м)  
- days_exposition — сколько дней было размещено объявление (от публикации до снятия)  
- first_day_exposition — дата публикации  
- floor — этаж  
- floors_total — всего этажей в доме  
- is_apartment — апартаменты (булев тип)  
- kitchen_area — площадь кухни в квадратных метрах (м²)  
- last_price — цена на момент снятия с публикации  
- living_area — жилая площадь в квадратных метрах (м²)  
- locality_name — название населённого пункта  
- open_plan — свободная планировка (булев тип)  
- parks_around3000 — число парков в радиусе 3 км  
- parks_nearest — расстояние до ближайшего парка (м)  
- ponds_around3000 — число водоёмов в радиусе 3 км  
- ponds_nearest — расстояние до ближайшего водоёма (м)  
- rooms — число комнат  
- studio — квартира-студия (булев тип)  
- total_area — общая площадь квартиры в квадратных метрах (м²)  
- total_images — число фотографий квартиры в объявлении

### Выводы
1. <b>Была проведена предобработка данных</b>  
    - Определено, в каких столбцах были пропуски.
    - Заполнены пропущенные значения там, где это возможно.  
       
Пропуски в <code>ceiling_height</code>, <code>floors_total</code>, <code>living_area</code>, <code>kitchen_area</code> заполнены медианными значениями. В <code>balcony</code> и <code>days_exposition</code> пропуски заполнены нулевыми значениями. В <code>is_apartment</code> пропуски заполнены значениями False.  
    
Тип данных в <code>first_day_exposition</code> изменён на datetime, так как это дата. Тип данных в <code>days_exposition</code> изменён на int, так как количество дней - целое число. Тип данных <code>balcony</code> изменён на int, так как количество балконов - целое число. Тип данных <code>last_price</code> изменён на int, так как стоимость - целое число. Тип данных <code>floors_total</code> изменён на int, так как количество этажей - целое число.
    
В <code>locality_name</code> все значения приведены к нижнему регистру, была проведена замена ё на е, заменено "городской поселок" на "поселок городского типа".  
    
В <code>total_area</code> удалены квартиры, площадь которых меньше 20 и больше 250 кв.м., так как они довольно редкие. В <code>rooms</code> удалены квартиры, в которых больше 6 комнат, так как это встречается довольно редко. В <code>last_price</code> удалены квартиры стоимостью до 100 000 и больше 100 000 000. В <code>floors_total</code> удалены квартиры, которые находятся в домах, где больше 25 этажей, так как такие объявления можно считать редкостью. Значения в <code>ceiling_height</code> от 25 до 35 изменили на вещественные (от 2,5 метров до 3,5 метров), то есть эти значения разделили на десять. Значения от 4 до 25 и больше 35 удалили. Значения в <code>living_area</code> меньше 10 и больше 300 удалили. Значения в <code>kitchen_area</code> меньше 5 удалили. Удалили в <code>airports_nearest</code> строки, где расстояние до аэропорта всего 0 метров. Значения в <code>cityCenters_nearest</code> больше 40 000 удалили. Значения в <code>parks_nearest</code>, которые меньше 10, удалили. В <code>days_exposition</code> удалили значения, больше 1200. Обновили индексацию.
        
    - Указаны причины, которые могли привести к пропускам в данных
2. <b>В таблицу добавлены новые столбцы</b>
    - Добавлени новый столбец <code>price_per_1_sq_m</code>, в котором посчитана цена за 1 кв.м. 
    - Добавлени новый столбец <code>publication_day</code>, в котором указан день публикации объявления. 
    - Добавлени новый столбец <code>publication_month</code>, в котором указан месяц публикации объявления.
    - Добавлени новый столбец <code>publication_year</code>, в котором указан год публикации объявления.
    - Добавлени новый столбец <code>floor_type</code>, в котором благодаря функции <code>categorize_floor</code> указан тип этажа.
    - Добавлени новый столбец <code>cityCenters_nearest_km</code>, в котором посчитано расстояние до центра города в км. 
3. <b>Проведён исследовательский анализ данных</b>
    - Больше всего квартир с общей площадью 50 кв.м., с жилой площадью 18 и 30 кв.м., площадью кухни 9 кв.м. Больше всего объявлений о продаже 1-, 2-, 3-комнатных квартир, с высотой потолков 2,65 метра, квартир, которые на ходятся на первых пяти этажах, в пятиэтажных и девятиэтажных домах, которые находятся в 10-15 километрах от центра города, 10-30 километрах от аэропорта, на расстоянии до 750 метров до ближайшего парка. Чаще всего объявления пубоикуются в феврале.  
  
    - Среднее количество дней с момента публикации объявления до продажи составляет 146 дней. Медианное значение количества дней с момента публикации объявления до продажи составляет 114 дней.  
  
    - Больше всего на стоимость квартиры влияют следующие факторы: площадь квартиры, жилая площадь квартиры, площадь кухни и количество комнат. Этаж, на котором расположена квартира, и дата публикации объявления не влияют на стоимость квартиры.  
  
    - Самая дорогая недвижимость находится в Санкт-Петербурге.  
  
    - Самая дорогая недвижимость находится в радиусе 1 км от центра Санкт-Петербурга.
